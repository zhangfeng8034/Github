<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>弹珠</title>
		<style type="text/css">
			#main {
				width: 800px;
				height: 500px;
				border: 1px solid gray;
				margin: auto;
				margin-top: 50px;
				position: relative;
				background: url(img/7.jpg) no-repeat;
				background-size: 100%;
			}
			
			#box {
				width: 100px;
				height: 100px;
				border-radius: 50%;
				background: url(img/44.jpg);
				background-size: 100%;
				position: absolute;
				left: 0;
				top: 0;
			}
		</style>
	</head>

	<body>
		<div id="main">
			<div id="box"></div>
		</div>
		<script type="text/javascript">
			var mainWidth = main.offsetWidth;
			var mainHeight = main.offsetHeight;
			var boxWidth = box.offsetWidth;
			var boxHeight = box.offsetHeight;
			var speedX = 2
			var speedY = 5;
			var distanceX = 0;
			var distanceY = 0;
			var timerX = null;
			var timerY = null;

			function moveY() {
				distanceY += speedY;
				if((distanceY >= mainHeight - boxHeight - 2) || (distanceY <= 0)) {
					speedY = -speedY;
				}
				box.style.top = distanceY + 'px';
			}

			function moveX() {
				distanceX += speedX;
				if((distanceX >= mainWidth - boxWidth - 2) || (distanceX <= 0)) {
					speedX = -speedX;
				}
				box.style.left = distanceX + 'px';
			}

			function auto() {
				timerY = setInterval('moveY()', 10);
				timerX = setInterval('moveX()', 10);
			}

			function clear() {
				clearInterval(timerX);
				clearInterval(timerY);
			}
			box.onmouseover = clear;
			box.onmouseout = auto;
			auto();
		</script>
	</body>

</html>